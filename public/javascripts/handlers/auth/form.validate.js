function Auth(e){$("#signup_form").validate({errorContainer:".box-messages",errorClass:"text-danger",rules:{signup_username:{required:!0,minlength:6}},messages:{signup_username:{required:"Пожалуйста, введите ссылку на ресурс вида http://domainname.ru/",url:"Пожалуйста, введите корректный адрес"}}});this.sendSignupForm=function(){var e={email:$("#signup_email").val(),password:$("#signup_password").val(),repassword:$("#signup_repassword").val()};console.log(e),$.ajax({type:"POST",data:JSON.stringify(e),contentType:"application/json",url:"/auth/signup",cache:!1,beforeSend:function(){$('button[type="submit"]').append('<svg width="10px"  height="10px"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-rolling" style="background: none;"><circle cx="50" cy="50" fill="none" stroke="#fafafa" stroke-width="10" r="35" stroke-dasharray="164.93361431346415 56.97787143782138" transform="rotate(353.928 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform></circle></svg>')},complete:function(){$('button[type="submit"]').find("svg").remove()}}).done(function(e){e.ok?(console.log("OKS"),$(".box-message").append('<div class="alert alert-success alert-dismissible fade show" role="alert">Вы успешно зарегестрировались  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>')):(console.log("FAIL"),$(".box-message").append('<div class="alert alert-danger alert-dismissible fade show" role="alert"><strong>Ошибка! </strong>'+e.msg+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'))})};var a=this;e.onclick=function(e){var s=e.target.getAttribute("data-action");s&&a[s]()}}new Auth(signup_form);
var registerApp=new RegisterApp;function regApp(e){var s=$("#register-app_form").validate({errorContainer:".box-messages",errorClass:"text-danger",rules:{formDomainName:{required:!0,minlength:6},"step_3-user":{required:!0,minlength:4},"step_3-password":{required:!0,minlength:8},"step_3-table-name":{required:!0,minlength:2},"step_3-db-port":{minlength:2},"step_3-db-type":{required:!0}},messages:{formDomainName:{required:"Пожалуйста, введите ссылку на ресурс вида http://domainname.ru/",url:"Пожалуйста, введите корректный адрес"},"step_3-user":{required:"Пользователь базы данных"},"step_3-password":{required:"Пароль пользователя базы данных",minlength:"Минимальная длина от 8 символов"},"step_3-table-name":{required:"Имя таблицы содержащее пользователей"},"step_3-db-port":{required:"Порт подключения"},"step_3-db-type":{required:"Тип СУБД"}}}),t="#formDomainName",r={user:"#step_3-user",password:"#step_3-password",tableName:"#step_3-table-name",port:"#step_3-db-port",dbType:"#step_3-db-type"};this.checkDomainName=function(){var e=$(t).val();s.element(t)?(registerApp.setDomainName(e),$(".btn-contolls").find(".res-step-1").addClass("d-block"),$(".btn-contolls").find(".btnCheckDomainName").addClass("d-none"),$(".result-message-1").append('<span class="text-success">OK</span>'),console.log(registerApp.getAppObject())):$(".btn-contolls").find(".res-step-1").removeClass("d-block")},this.checkRights=function(){registerApp.getAppObject().domainName,registerApp.getAppObject().secretKey;registerApp.setRights(),console.log(registerApp.getAppObject()),registerApp.getAppObject().checkRights&&($(".result-message-2").append('<span class="text-success">OK</span>'),$(".btn-contolls").find(".btnCheckRights").addClass("d-none"),$(".btn-contolls").find(".res-step-2").addClass("d-block"))},this.checkDBData=function(){var e={user:$(r.user).val(),password:$(r.password).val(),tableName:$(r.tableName).val(),port:$(r.port).val()||"",DBtype:$(r.dbType).val()};registerApp.setDBData(e.user,e.password,e.port,e.tableName,e.DBtype),$(".result-message-3").append('<span class="text-success">OK</span>'),$(".btn-contolls").find(".btncheckDBData").addClass("d-none"),$(".btn-contolls").find(".res-step-3").addClass("d-block"),console.log(registerApp.getAppObject())};var a=this;e.onclick=function(e){var s=e.target.getAttribute("data-action");s&&a[s]()}}new regApp(regAppForm);